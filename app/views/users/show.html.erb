<div class="container">
  <h1>User Details</h1>
</div>
<div class="container">
  <div class="card">
    <div class="card-header">
      <h3>User #<%= @user.id %></h3>
    </div>
    <div class="card-body">
      <ul class="list-group list-group-flush">
        <li class="list-group-item">
          <strong>Email:</strong> <%= @user.email %>
        </li>
        <li class="list-group-item">
          <strong>Name:</strong> <%= @user.first_name %>
        </li>
        <li class="list-group-item">
          <strong>Last Name:</strong> <%= @user.last_name %>
        </li>
        <li class="list-group-item">
          <strong>Created At:</strong> <%= @user.created_at%>
        </li>
        <li class="list-group-item">
          <strong>Updated At:</strong> <%=@user.updated_at%>
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="container">
  <div class="mt-3">
    <%= link_to 'Edit', edit_user_path(@user), class: 'btn btn-info' %>
    <%= link_to 'Back', users_path, class: 'btn btn-danger' %>
    <%= link_to 'New User', new_user_path, class: 'btn btn-success' %>
  </div>
</div>
<div class="container">
  <h3>Chats of #<%= @user.id %></h3>
  <% @chats.each do |chat| %>
    <div class="card mb-3">
      <div class="card-header">
        <h4>Chat with #<%= chat.sender == @user ? chat.receiver.id : chat.sender.id %></h4>
      </div>
      <div class="card-body">
        <% chat.messages.order(created_at: :asc).each do |message| %>
          <p><strong>#User <%= message.user.id %>:</strong> <%= message.body %></p>
        <% end %>
      </div>
    </div>
  <% end %>
</div>